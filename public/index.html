<!DOCTYPE html>
<html>
<head>
  <title>webrtc-server</title>
  <style type="text/css">
    video {
      max-width: 100%;
      width: 400px;
    }
  </style>
</head>
<body>

<div style="margin: 20px">
  <p>在线用户ID列表</p>
  <ol id="userList">
  </ol>
</div>

<div style="margin: 20px">
  <label>对方ID</label>
  <input id="toUserId" type="text">
</div>

<div style="margin: 20px">
  <button id="call">call</button>
  <button id="handUp">handUp</button>
</div>

<div>
  <video id="localVideo" autoplay></video>
</div>
<div>
  <video id="remoteVideo" autoplay></video>
</div>

<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<!--<script src="/socket.io/socket.io.js"></script>-->
<script src="https://cdn.bootcss.com/socket.io/2.1.1/socket.io.js"></script>
<script src="./chat.js"></script>
<script>

  $('#call').click(function () {
    let toUser = $('#toUserId').val();
    doCall(toUser);
  })

  $('#handUp').click(function () {
    doHangUp();
  })

  function refreshUserList(userList) {
    $('#userList').empty();
    userList.forEach(value => {
      if (value != document.title) {
        $('#userList').append($('<li></li>').text(value));
      }
    })
  }

</script>
</body>
</html>
